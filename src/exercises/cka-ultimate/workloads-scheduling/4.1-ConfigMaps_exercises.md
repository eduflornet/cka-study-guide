# ConfigMaps **exercises**

In this demo:
We will create the ConfigMap using both Imperatively and Declaratively
Next, we will use above ConfigMap into Pod, as environment variables, arguments, and files inside vol.


NOTE: 

a. To successfully finish this exercise, It is important to go through ConfigMap Concept and Demo videos in this series.
b. You can refer to Kuberenetes Docs for help when needed.

STEP-1: Create ConfigMap: 

Create ConfigMap from literal values with below configuration

- ConfigMap Name: env-cm
- Literals: ENV_ONE=value1 & ENV_TWO=value2

```bash
kubectl create configmap env-cm --from-literal=ENV_ONE=value1 --from-literal=ENV_TWO=value2
```

STEP-2: Displaying ConfigMap:

a. Display ConfigMap "env-cm" 

```bash
kubectl get configmaps env-cm
```

b. Display ConfigMap "env-cm" and print that in YAML format.

```bash
kubectl get configmaps env-cm -o yaml
```
```yaml
apiVersion: v1
data:
  ENV_ONE: value1
  ENV_TWO: value2
kind: ConfigMap
metadata:
  creationTimestamp: "2025-08-18T08:38:43Z"
  name: env-cm
  namespace: default
  resourceVersion: "157810"
  uid: e944b3a5-3374-4155-864d-3315f14da53e
```

c. Display complete details of "env-cm" ConfigMap

```bash
kubectl describe configmaps env-cm
Name:         env-cm
Namespace:    default
Labels:       <none>
Annotations:  <none>

Data
====
ENV_ONE:
----
value1

ENV_TWO:
----
value2


BinaryData
====

Events:  <none>
```

STEP-3: Injecting ConfigMap into Pod As Environment Variables: 

Configure & Deploy:

a. Create the sample Pod **nginx-pod-cm** and after that add configMapRef with name parameter **env-cm**. 

```bash
kubectl run nginx-pod-cm --image=nginx --restart=Never --dry-run=client -o yaml > nginx-pod-cm.yaml
```

You need to edit nginx-pod-cm.yaml and configMapRef:name: env-cm

```yaml
apiVersion: v1
kind: Pod
metadata:
  labels:
    run: nginx-pod-cm
  name: nginx-pod-cm
spec:
  containers:
  - image: nginx
    name: nginx-pod-cm
    envFrom:
      - configMapRef:
          name: env-cm
  dnsPolicy: ClusterFirst
  restartPolicy: Never
```

b. Apply:

```bash
kubectl apply -f nginx-pod-cm.yaml
```

Validate:

c. Run the env command inside the Pod to validate the above two environment variables are successfully configured.

```bash
kubectl exec nginx-pod-cm -- env | grep ENV

ENV_TWO=value2
ENV_ONE=value1
```

STEP-4: Delete the ConfigMap:

a. Delete the Pod and ConfigMap created in the above step.

```bash
kubectl delete pod nginx-pod-cm 
pod "nginx-pod-cm" deleted
```

b. Ensure ConfigMap and Pod deleted successfully.

```bash
kubectl delete configmap env-cm 
configmap "env-cm" deleted
```
