# Resource limits **exercises**

In this Exercise:

a. You will create a Pod with one Container. 
b. This Container will be configured with memory request of 100 MiB and a memory limit of 200 MiB. 

NOTE: 

a. To successfully finish this exercise, It is important to go through Resource Limits Concept and Demo videos in this series.
b. You can refer to Kuberenetes Docs for help when needed.

TASK-1: Display current resource usages:

a. Display current usage of Memory and CPU of each node within the cluster. You can do that by running ...top... command

```bash
kubectl top nodes

NAME                 CPU(cores)   CPU(%)   MEMORY(bytes)   MEMORY(%)   
kind-control-plane   441m         5%       1459Mi          10%  
```

TAKS-2: Configure Container which require minimum CPU and Memory resources:
a. Create a sample Pod which require Minimum CPU and Memory as mentioned below for a Container inside the Pod.

Requests:
- CPU: 0.5
- Memory: 256Mi

```yaml
# memory-cpu-pod.yaml
apiVersion: v1
kind: Pod
metadata:
  name: memory-cpu-pod
spec:
  containers:
  - name: memory-demo-ctr
    image: polinux/stress
    resources:
      requests:
        memory: "256Mi"
        cpu: 0.5
      limits:
        memory: "500Mi"
        cpu: 1
    command: ["stress"]
    args: ["--vm", "1", "--vm-bytes", "150M", "--vm-hang", "1"]
  restartPolicy: Never
```

TAKS-3: Validate:

a. Display current usage of Memory and CPU of the node where the above Pod is deployed. Then cross check with usage stats from the "TASK-1"

```bash
kubectl top pods

NAME             CPU(cores)   MEMORY(bytes)   
memory-cpu-pod   170m         150Mi          
```

TAKS-4: Delete:

a. Delete the Pod.

```bash
kubectl delete pod memory-cpu-pod 
```

b. Ensure Pod is deleted

```bash
kubectl get pod memory-cpu-pod
Error from server (NotFound): pods "memory-cpu-pod" not found
```

c. Display resource usages of the nodes. Note the difference from TASK-3. 

```bash
kubectl top nodes
NAME                 CPU(cores)   CPU(%)   MEMORY(bytes)   MEMORY(%)   
kind-control-plane   457m         5%       1463Mi          10% 
```


